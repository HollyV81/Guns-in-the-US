function init() {
    data = [{
    x: [1998,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017],
    y: [0.36,2.44,2.19,2.19,1.77,1.82,1.88,1.96,2.04,2.06,2.56,2.68,2.55,2.79,3.66,4.05,3.56,4.29,2.81,1.36] }];
    var LINE = document.getElementById("plot");
    Plotly.plot(LINE, data);
}

function updatePlotly(newx, newy) {
    var LINE = document.getElementById("plot");

// Note the extra brackets around 'newx' and 'newy'
    Plotly.restyle(LINE, "x", [newx]);
    Plotly.restyle(LINE, "y", [newy]);
}

function getData(dataset) {

    // Initialize empty arrays to contain our axes
    var x = [1998,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017];
    var y = [];

    // Fill the x and y arrays as a function of the selected dataset
    switch (dataset) {
    case "Alabama":
        x = x;
        y = [36,244,219,219,177,182,188,196,204,206,256,268,255,279,366,405,356,429,281,136];
    break;
    case "Alaska":
        x = x;
        y = [4,42,39,38,31,32,35,39,42,45,56,55,60,64,78,83,78,76,77,56];
    break;
    case "Arizona":
        x = x;
        y = [15,149,130,131,114,107,119,140,155,143,152,154,160,193,252,256,222,250,289,208];
    break;
    case "Arkansas":
        x = x;
        y = [215.63,1773.98,1603.43,1510.53,1126.38,1139.37,1165.61,1204.74,1246.36,1182.14,1291.17,1319.57,1228.34,1342.33,1653.56,1709.99,1447.46,1627.55,1654.23,1101.98];
    break;
    case "California":
        x = x;
        y = [62,782,631,618,492,368,397,459,429,387,445,497,521,624,800,935,914,875,1327,697];
    break;
    case "Colorado":
        x = x;
        y = [23,250,297,339,177,167,179,191,197,197,250,259,260,295,361,410,347,391,438,319];
    break;
    case "Connecticut":
        x = x;
        y = [4,45,0,23,51,53,48,49,52,59,74,87,89,92,120,131,140,174,169,82];
    break;
    case "Delaware":
        x = x;
        y = [2,17,15,16,16,16,16,17,16,16,18,20,19,22,30,37,39,44,49,33];
    break;
    case "District of Columbia":
        x = x;
        y = [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1];
    break;
    case "Florida":
        x = x;
        y = [31,256,245,284,267,279,300,353,393,407,476,519,519,592,783,850,766,879,1021,750];
    break;
    case "Georgia":
        x = x;
        y = [3,245,214,211,190,193,194,205,240,193,215,207,196,230,290,299,274,321,330,218];
    break;
    case "Idaho":
        x = x;
        y = [7,71,66,63,49,49,51,57,64,66,70,67,66,77,94,96,84,94,105,78];
    break;
    case "Illinois":
        x = x;
        y = [17,186,151,153,146,150,153,152,158,158,183,218,226,268,356,421,390,400,530,340];
    break;
    case "Indiana":
        x = x;
        y = [23,203,115,92,80,105,168,165,177,179,210,230,230,270,371,408,374,422,473,328];
    break;
    case "Iowa":
        x = x;
        y = [7,46,42,41,39,42,45,46,47,43,43,42,41,43,47,44,38,37,38,25];
    break;
    case "Kansas":
        x = x;
        y = [12,104,95,91,82,85,87,87,98,101,115,130,127,137,176,177,135,150,160,109];
    break;
    case "Kentucky":
        x = x;
        y = [31,244,225,227,186,184,192,190,196,186,196,199,185,206,250,253,214,242,254,170];
    break;
    case "Louisiana":
        x = x;
        y = [27,194,172,170,139,145,143,181,189,186,224,221,211,234,292,318,281,313,322,199];
    break;
    case "Maine":
        x = x;
        y = [4,46,44,49,46,47,49,47,50,48,53,57,62,69,86,91,77,86,99,67];
    break;
    case "Maryland":
        x = x;
        y = [7,54,48,53,49,49,52,60,59,68,84,93,86,100,133,221,120,104,126,94];
    break;
    case "Massachusetts":
        x = x;
        y = [1,19,25,29,33,38,37,36,38,39,44,53,56,68,93,106,97,104,125,87];
    break;
    case "Michigan":
        x = x;
        y = [21,184,179,186,197,204,202,191,189,168,168,162,149,151,183,296,240,273,300,211];
    break;
    case "Minnesota":
        x = x;
        y = [10,147,151,151,144,163,167,163,173,167,176,180,178,202,254,281,231,253,288,193];
    break;
    case "Mississippi":
        x = x;
        y = [26,180,162,150,114,115,117,136,149,140,145,133,133,145,179,186,169,203,216,139];
    break;
    case "Missouri":
        x = x;
        y = [24,205,190,194,175,180,187,192,199,221,287,312,295,332,430,461,415,454,495,357];
    break;
    case "Montana":
        x = x;
        y = [6,72,70,70,56,59,61,63,66,69,74,75,74,80,100,100,89,95,97,69];
    break;
    case "Nebraska":
        x = x;
        y = [5,32,30,29,26,28,30,29,30,29,30,28,29,32,36,33,28,29,28,19];
    break;
    case "Nevada":
        x = x;
        y = [6,60,48,49,46,48,51,56,58,56,78,87,83,96,116,111,87,94,108,74];
    break;
    case "New Hampshire":
        x = x;
        y = [2,38,39,42,39,40,40,40,44,44,50,57,57,65,95,104,87,95,115,82];
    break;
    case "New Jersey":
        x = x;
        y = [4,38,36,39,43,41,37,36,37,36,40,54,50,59,86,120,92,90,122,85];
    break;
    case "New Mexico":
        x = x;
        y = [9,92,82,80,61,60,64,66,73,76,87,86,86,93,118,128,114,122,130,100];
    break;
    case "New York":
        x = x;
        y = [14,119,110,118,111,112,121,123,157,171,185,204,210,233,304,318,284,299,343,256];
    break;
    case "North Carolina":
        x = x;
        y = [27,200,186,186,141,144,144,144,149,141,151,143,134,155,205,215,183,190,203,134];
    break;
    case "North Dakota":
        x = x;
        y = [2,30,30,29,27,28,30,31,34,37,41,39,40,52,68,69,59,58,55,41];
    break;
    case "Ohio":
        x = x;
        y = [32,292,269,282,269,271,300,287,301,303,324,365,363,435,588,638,554,609,663,440];
    break;
    case "Oklahoma":
        x = x;
        y = [20,166,154,154,121,128,135,144,155,154,183,193,189,223,312,325,292,304,310,210];
    break;
    case "Oregon":
        x = x;
        y = [14,158,133,138,134,140,146,154,160,159,175,179,178,202,267,274,242,276,322,238];
    break;
    case "Pennsylvania":
        x = x;
        y = [45,515,467,500,556,506,498,477,516,559,594,638,622,715,875,769,660,719,801,582];
    break;
    case "Puerto Rico":
        x = x;
        y = [45,515,467,500,556,506,498,477,516,559,594,638,622,715,875,769,660,719,801,582];
    break;
    case "Rhode Island":
        x = x;
        y = [1,10,8,9,9,9,9,9,9,9,11,14,14,16,22,24,19,20,25,18];
    break;
    case "South Carolina":
        x = x;
        y = [9,139,120,115,93,95,98,107,112,111,136,143,133,153,202,204,178,213,227,158];
    break;
    case "South Dakota":
        x = x;
        y = [3,31,36,40,40,43,46,47,49,50,58,59,58,64,82,86,77,85,89,61];
    break;
    case "Tennessee":
    x = x;
    y = [25,261,231,227,220,216,215,214,226,237,276,302,302,347,439,466,420,499,534,382];
    break;
    case "Texas":
    x = x;
    y = [76,637,575,569,456,464,471,541,573,583,732,745,713,848,1104,1190,1045,1138,1159,802];
    break;
    case "Utah":
        x = x;
        y = [11,77,67,67,61,62,64,72,85,85,88,80,70,79,98,101,82,93,105,70];
    break;
    case "Vermont":
        x = x;
        y = [2,22,20,20,20,20,19,18,20,20,22,23,24,27,34,35,31,34,38,30];
    break;
    case "Virgin Islands":
        x = x;
        y = [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];
    break;
    case "Virginia":
        x = x;
        y = [25,206,187,194,190,198,211,219,236,238,275,292,315,325,449,498,419,457,518,397];
    break;
    case "Washington":
        x = x;
        y = [11,118,112,123,118,133,142,154,167,176,210,225,225,259,348,370,311,329,389,285];
    break;
    case "West Virginia":
        x = x;
        y = [14,132,126,131,103,99,100,102,106,102,116,122,122,143,179,201,169,177,177,119];
    break;
    break;
    case "Wisconsin":
        x = x;
        y = [15,179,180,181,171,186,184,181,187,178,184,194,191,235,328,337,276,312,356,273];
    break;  
    case "Wyoming":
        x = x;
        y = [3,33,31,31,26,26,28,30,35,35,40,39,36,43,53,57,50,50,50,33];
    break; 
    default:
        x = x;
        y = [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];
    break;
    }

    updatePlotly(x, y);
    }

init();
